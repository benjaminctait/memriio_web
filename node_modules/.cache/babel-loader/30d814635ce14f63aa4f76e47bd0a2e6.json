{"ast":null,"code":"var _jsxFileName = \"/Users/bentait/Desktop/memriio/memriio_web/src/components/memoryviewer/memoryImageViewer.js\";\nimport React from 'react';\nimport videoPlayImg from '../images/dottedcircleplay.png';\nimport videoStopImg from '../images/dottedcircleStop.png';\nimport ReactPlayer from 'react-player';\nimport './memoryImageViewer.css';\n\nclass MemoryFileViewer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      videoPlaying: false,\n      fileType: 'empty',\n      // 'image' or 'video' or 'audio' or 'specific' or 'empty'\n      videoLoaded: true\n    };\n\n    this.handleClick = () => {\n      console.log('image clicked');\n    };\n\n    this.stopVideo = () => {\n      this.setState({\n        videoPlaying: false\n      });\n    };\n\n    this.playVideo = () => {\n      this.setState({\n        videoPlaying: true\n      });\n    };\n\n    this.determineFileCategory = memfile => {\n      if (memfile) {\n        if (this.isVideo(memfile.fileext)) {\n          return 'video';\n        } else {\n          if (this.isImage(memfile.fileext)) {\n            return 'image';\n          } else {\n            if (this.isAudio(memfile.fileext)) {\n              return 'audio';\n            } else {\n              return 'specific';\n            }\n          }\n        }\n      } else {\n        return 'empty';\n      }\n    };\n\n    this.isImage = fileExtension => {\n      let ext = fileExtension.toLowerCase();\n      let filetypes = ['jpeg', 'jpg', 'png'];\n      let found = filetypes.indexOf(ext);\n      return !(found === -1);\n    };\n\n    this.isVideo = fileExtension => {\n      let ext = fileExtension.toLowerCase();\n      let filetypes = ['mp4', 'mov'];\n      let found = filetypes.indexOf(fileExtension);\n      return !(found === -1);\n    };\n\n    this.isAudio = fileExtension => {\n      let ext = fileExtension.toLowerCase();\n      let filetypes = ['m4a', 'wav'];\n      let found = filetypes.indexOf(fileExtension);\n      return !(found === -1);\n    };\n\n    this.renderControls = () => {\n      if (this.props.memfile) {\n        if (this.state.fileType === 'video') {\n          if (this.state.videoPlaying) {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"buttonPosition\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }\n            }, /*#__PURE__*/React.createElement(\"img\", {\n              alt: \"Play\",\n              src: videoStopImg,\n              className: 'card-playBtn',\n              onClick: this.stopVideo,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 25\n              }\n            }));\n          } else {\n            return /*#__PURE__*/React.createElement(\"div\", {\n              className: \"buttonPosition\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 21\n              }\n            }, /*#__PURE__*/React.createElement(\"img\", {\n              alt: \"Play\",\n              src: videoPlayImg,\n              className: 'card-playBtn',\n              onClick: this.playVideo,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 25\n              }\n            }));\n          }\n        }\n      }\n    };\n\n    this.renderOriginalFile = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }\n      });\n    };\n\n    this.renderImageThumb = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"xover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"memory\",\n        src: thumb,\n        className: thumbStyleClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }), controls);\n    };\n\n    this.renderVideo = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"xover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ReactPlayer, {\n        url: this.props.memfile.fileurl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }), controls);\n    };\n  }\n\n  //-----------------------------------------------------------------------------\n  render() {\n    const {\n      memfile,\n      thumbStyleClass,\n      fileStyleClass,\n      alternateRenderer\n    } = this.props;\n    this.state.fileType = this.determineFileCategory(memfile);\n    let visibleContent = null;\n    const controls = this.renderControls();\n    const thumb = memfile ? memfile.thumburl : null;\n\n    if (alternateRenderer) {\n      return alternateRenderer();\n    } else {\n      if (this.state.fileType === 'image') {\n        visibleContent = this.renderImageThumb();\n      } else if (this.state.fileType === 'video') {\n        if (this.state.videoLoaded) {\n          visibleContent = this.renderVideo();\n        } else {\n          // show loading timer\n          visibleContent = this.renderImageThumb();\n        }\n      } else {\n        return null;\n      }\n    }\n  }\n\n}\n\n; //-----------------------------------------------------------------------------\n\nexport default MemoryFileViewer;","map":{"version":3,"sources":["/Users/bentait/Desktop/memriio/memriio_web/src/components/memoryviewer/memoryImageViewer.js"],"names":["React","videoPlayImg","videoStopImg","ReactPlayer","MemoryFileViewer","Component","state","videoPlaying","fileType","videoLoaded","handleClick","console","log","stopVideo","setState","playVideo","determineFileCategory","memfile","isVideo","fileext","isImage","isAudio","fileExtension","ext","toLowerCase","filetypes","found","indexOf","renderControls","props","renderOriginalFile","renderImageThumb","thumb","thumbStyleClass","controls","renderVideo","fileurl","render","fileStyleClass","alternateRenderer","visibleContent","thumburl"],"mappings":"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","sourcesContent":["import React from 'react';\nimport videoPlayImg from '../images/dottedcircleplay.png'\nimport videoStopImg from '../images/dottedcircleStop.png'\nimport ReactPlayer from 'react-player';\nimport './memoryImageViewer.css';\n\n\nclass MemoryFileViewer extends React.Component{\n\n    state = {\n        videoPlaying:false,\n        fileType:'empty',        // 'image' or 'video' or 'audio' or 'specific' or 'empty'\n        videoLoaded:true,\n\n    }\n\n\n//-----------------------------------------------------------------------------\n\nhandleClick = () =>{\n    console.log('image clicked')\n    \n}\n\nstopVideo = () => {\n    this.setState({videoPlaying:false})\n    \n}\n//-----------------------------------------------------------------------------\nplayVideo = () => {\n    this.setState({videoPlaying:true})\n    \n    \n}\n\n//-----------------------------------------------------------------------------\n\ndetermineFileCategory = (memfile) => {\n\n    if(memfile){\n        if(this.isVideo(memfile.fileext)){\n            return 'video'\n        }else{\n            if(this.isImage(memfile.fileext)){\n                return 'image'\n            }else{\n                if(this.isAudio(memfile.fileext)){\n                    return 'audio'\n                }else{\n                    return 'specific'\n                }\n            }\n        }\n    }else{\n        return 'empty'\n    }\n}\n\n//-----------------------------------------------------------------------------\n\nisImage= (fileExtension) =>{\n    let ext = fileExtension.toLowerCase()\n    let filetypes = ['jpeg','jpg','png']\n    let found = filetypes.indexOf(ext)\n    return !(found === -1)    \n}\n\n//-----------------------------------------------------------------------------\n\nisVideo= (fileExtension) =>{\n\n    let ext = fileExtension.toLowerCase()\n    let filetypes = ['mp4','mov']\n    let found = filetypes.indexOf(fileExtension)\n    return !(found === -1)    \n}\n//-----------------------------------------------------------------------------\n\nisAudio= (fileExtension) =>{\n\n    let ext = fileExtension.toLowerCase()\n    let filetypes = ['m4a','wav']\n    let found = filetypes.indexOf(fileExtension)\n    return !(found === -1)    \n}\n//-----------------------------------------------------------------------------\n\nrenderControls = () => {\n    if(this.props.memfile)\n    {\n        if(this.state.fileType === 'video')\n        {\n            if(this.state.videoPlaying)\n            {\n                return(\n                    <div className='buttonPosition'>\n                        <img \n                            alt=        'Play'\n                            src=        { videoStopImg} \n                            className=  { 'card-playBtn' }\n                            onClick =   { this.stopVideo }\n                        />  \n                    </div>\n                )\n\n            }else{\n                return(\n                    <div className='buttonPosition'>\n                        <img \n                            alt=        'Play'\n                            src=        { videoPlayImg} \n                            className=  { 'card-playBtn' }\n                            onClick =   { this.playVideo }\n                        />  \n                    </div>\n                )\n            }\n            \n        }\n    }\n}\n\n//-----------------------------------------------------------------------------\n\nrenderOriginalFile = () => {\n    return(\n\n        <div className=''>\n            \n        </div>\n    )\n}\n//-----------------------------------------------------------------------------\n\nrenderImageThumb = () => {\n    return (\n        <div className='xover'>\n            <img \n                alt= 'memory'\n                src=        { thumb } \n                className=  { thumbStyleClass }\n            />  \n            {controls}\n        </div>\n    )\n}\n\n//-----------------------------------------------------------------------------\n\nrenderVideo = () =>{\n\n    return (\n        <div className='xover'>\n            <ReactPlayer \n                url = {this.props.memfile.fileurl}>\n\n            </ReactPlayer>\n            {controls}\n        </div>\n    )\n}\n\n//-----------------------------------------------------------------------------\n\nrender(){\n    const {memfile,thumbStyleClass,fileStyleClass,alternateRenderer} = this.props\n    this.state.fileType = this.determineFileCategory(memfile)\n    let visibleContent = null\n\n    const controls = this.renderControls()\n    const thumb = memfile? memfile.thumburl : null        \n\n    if(alternateRenderer) { \n        return ( alternateRenderer() )\n    } else {\n        if(this.state.fileType === 'image') {\n            visibleContent = this.renderImageThumb()}\n        else if (this.state.fileType === 'video'){\n            if(this.state.videoLoaded){\n                visibleContent = this.renderVideo() \n            }else{\n                // show loading timer\n                visibleContent = this.renderImageThumb()\n            }\n        }else{\n            return null\n        }\n        \n    }\n}\n\n};\n\n//-----------------------------------------------------------------------------\n\nexport default MemoryFileViewer\n\n"]},"metadata":{},"sourceType":"module"}