{"ast":null,"code":"var _jsxFileName = \"/Users/bentait/Desktop/memriio/memriio_web/src/components/memoryeditor/memoryeditor.js\";\nimport React from 'react';\nimport { BennyCard, MemoryImage } from '../cardcollection/card';\nimport { Container, Row, Col, Form, Button, Carousel } from 'react-bootstrap';\nimport Gallery from 'react-images-viewer';\nimport { getAllMemoryFiles, setHeroImage } from '../memriioserver';\nimport Masonry from 'react-masonry-component';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './memoryeditor.css';\n\nclass MemoryEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: 0,\n      owner: 0,\n      title: '',\n      description: '',\n      location: '',\n      story: '',\n      taggedPeople: [],\n      memoryClouds: [],\n      searchWords: [],\n      memfiles: null,\n      uploadNeeded: false\n    };\n\n    this.handleTitleChange = (key, event) => {\n      switch (key) {\n        case 'title':\n          this.memory.title = event.target.value;\n          alert('title changed : ' + event.target.value);\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.setState({\n      id: props.memory.id,\n      title: props.memory.title,\n      description: props.memory.description,\n      story: props.memory.story,\n      location: props.memory.location,\n      owner: props.memory.userid\n    });\n  }\n\n  //------------------------------------------------------------------------\n  componentDidMount() {\n    getAllMemoryFiles(this.props.memory.id, memoryFiles => {\n      this.setState({\n        memfiles: memoryFiles\n      });\n    });\n  } //---------------------------------------------------------------------------------    \n\n\n  //------------------------------------------------------------------------\n  render() {\n    let imageArray = [];\n\n    if (this.state.memfiles) {\n      this.state.memfiles.map((item, index) => {\n        imageArray.push({\n          src: item.fileurl\n        });\n      });\n    } else {//do something else here\n    }\n\n    if (this.props.memory && this.state.memfiles) {\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: 5,\n        float: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Carousel, {\n        className: \"ba pa2 br3\",\n        interval: 600000,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 29\n        }\n      }, this.state.memfiles.map((item, i) => {\n        return /*#__PURE__*/React.createElement(Carousel.Item, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(MemoryImage, {\n          key: i,\n          fileurl: item.fileurl //onExpand = {this.props.onExpandClick }\n          ,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 45\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"ba pa2 br3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        className: \"float-left W-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 33\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"text\",\n        value: this.props.memory.title,\n        onChange: this.handleTitleChange('title'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Form.Label, {\n        className: \"float-left W-100 pt2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"textarea\",\n        rows: \"2\",\n        value: this.props.memory.description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Form.Label, {\n        className: \"float-left W-100 pt2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }, \"Location\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"text\",\n        value: this.props.memory.location,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Form.Label, {\n        className: \"float-left W-100 pt2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, \"Tagged People\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"text\",\n        value: \"NOT IMPLEMENTED\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Form.Label, {\n        className: \"float-left W-100 pt2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }\n      }, \"Memory Clouds\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"text\",\n        value: \"NOT IMPLEMENTED\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Form.Label, {\n        className: \"float-left W-100 pt2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }\n      }, \"Story\"), /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"10\",\n        value: this.props.memory.story,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"ba pa2 br3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(BennyCard, {\n        key: 0,\n        memory: this.props.memory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }\n      })))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, \"No Memory To Display\");\n    }\n  }\n\n} //------------------------------------------------------------------------    \n\n\nexport default MemoryEditor;","map":{"version":3,"sources":["/Users/bentait/Desktop/memriio/memriio_web/src/components/memoryeditor/memoryeditor.js"],"names":["React","BennyCard","MemoryImage","Container","Row","Col","Form","Button","Carousel","Gallery","getAllMemoryFiles","setHeroImage","Masonry","MemoryEditor","Component","constructor","props","state","id","owner","title","description","location","story","taggedPeople","memoryClouds","searchWords","memfiles","uploadNeeded","handleTitleChange","key","event","memory","target","value","alert","setState","userid","componentDidMount","memoryFiles","render","imageArray","map","item","index","push","src","fileurl","i"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {BennyCard,MemoryImage} from '../cardcollection/card'\nimport {Container,\n        Row,\n        Col,\n        Form,\n        Button,\n        Carousel,\n        } from 'react-bootstrap'\n\nimport Gallery from 'react-images-viewer'\nimport {getAllMemoryFiles, setHeroImage} from '../memriioserver'\nimport Masonry from 'react-masonry-component';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nimport './memoryeditor.css'\n\n\n\n\n\nclass MemoryEditor extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.setState(\n            {\n                id:props.memory.id,\n                title:props.memory.title,\n                description:props.memory.description,\n                story:props.memory.story,\n                location:props.memory.location,\n                owner:props.memory.userid,\n            })\n    }    \n\n    state = {\n        \n        id:0,\n        owner:0,\n        title:'',\n        description:'',\n        location:'',        \n        story:'',\n\n        taggedPeople:[],\n        memoryClouds:[],\n        searchWords:[],\n        memfiles:null,\n        \n        uploadNeeded:false,\n    }\n\n//------------------------------------------------------------------------\n\n    componentDidMount(){\n        getAllMemoryFiles(this.props.memory.id,((memoryFiles)=>{this.setState({memfiles:memoryFiles})}))\n    }\n\n//---------------------------------------------------------------------------------    \n    \n    handleTitleChange = (key,event) =>{\n        switch (key) {\n            case 'title':\n                this.memory.title = event.target.value\n                alert('title changed : '  + event.target.value)\n                break;\n        \n            default:\n                break;\n        }\n            \n    }\n\n\n//------------------------------------------------------------------------\n\n    render(){\n        let imageArray = []\n        \n        if(this.state.memfiles){\n            this.state.memfiles.map((item,index)=>{imageArray.push({ src: item.fileurl})})\n        }else{\n            //do something else here\n        }\n            \n        if(this.props.memory && this.state.memfiles){\n            return (\n                <Container fluid>\n                   <Row>\n                        <Col xs={5} float='center'>\n                            <Carousel className='ba pa2 br3' interval={600000}>\n                                {\n                                    this.state.memfiles.map((item,i) => {\n                                    return (\n                                        <Carousel.Item>\n                                            <MemoryImage\n                                                key={i} \n                                                fileurl={item.fileurl}\n                                                //onExpand = {this.props.onExpandClick }\n                                            />\n                                        </Carousel.Item>\n                                        )\n                                    })\n                                }\n                            </Carousel>\n                        </Col>\n                        <Col>\n                            <div class ='ba pa2 br3'>\n                            <Form > \n                                <Form.Label className='float-left W-100' >Title</Form.Label>\n                                <Form.Control \n                                    type=\"text\" \n                                    value={this.props.memory.title} \n                                    onChange={this.handleTitleChange('title')}\n                                />\n\n                                <Form.Label className='float-left W-100 pt2'>Description</Form.Label>\n                                <Form.Control type=\"textarea\" rows='2' value={this.props.memory.description} />\n                                \n                                <Form.Label className='float-left W-100 pt2'>Location</Form.Label>\n                                <Form.Control type=\"text\" value={this.props.memory.location} />\n                                \n                                <Form.Label className='float-left W-100 pt2'>Tagged People</Form.Label>\n                                <Form.Control type=\"text\" value='NOT IMPLEMENTED' />\n\n                                <Form.Label className='float-left W-100 pt2'>Memory Clouds</Form.Label>\n                                <Form.Control type=\"text\" value='NOT IMPLEMENTED' />\n                                \n                                <Form.Label className='float-left W-100 pt2'>Story</Form.Label>\n                                <Form.Control as=\"textarea\" rows='10' value={this.props.memory.story} />\n                            </Form>\n                            </div>\n                        </Col>\n                        <Col>\n                            <div class ='ba pa2 br3'>\n                                <BennyCard\n                                    key = {0}\n                                    memory={this.props.memory}\n                                />  \n                            </div>\n                        </Col>\n                    </Row>                 \n                </Container>   \n            )\n        }else{\n            return (\n                <div>                \n                    No Memory To Display\n                </div>   \n            )\n\n        }\n    }\n\n}\n        \n//------------------------------------------------------------------------    \n\n\nexport default MemoryEditor;\n"]},"metadata":{},"sourceType":"module"}