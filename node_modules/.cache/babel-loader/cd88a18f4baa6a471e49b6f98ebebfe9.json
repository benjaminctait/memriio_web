{"ast":null,"code":"var _jsxFileName = \"/Users/bentait/Desktop/memriio/memriio_web/src/App.js\";\nimport React, { memo } from 'react';\nimport Navigation from './components/navigation/navigation.js';\nimport CardCollection from './components/cardcollection/cardcollection.js';\nimport Signin from './components/signin/signin.js';\nimport Register from './components/register/register.js';\nimport Administration from './components/admin/admin.js';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.userSignedin = () => {\n      return this.state.isSignedIn;\n    };\n\n    this.loadUser = data => {\n      this.state.user.userid = data.userid;\n      this.state.user.firstname = data.firstname;\n      this.state.user.lastname = data.lastname;\n      this.state.user.email = data.email;\n      this.state.user.joined = data.joined;\n      fetch('https://memriio-api-0.herokuapp.com/get_memories_userid', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userid: data.userid\n        })\n      }).then(response => response.json()).then(memories => {\n        if (memories.success) this.loadMemories(memories.data);\n      });\n    };\n\n    this.loadMemories = memories => {\n      if (Array.isArray(memories)) {\n        console.log('App-loadMemories : memory count : ' + memories.length);\n        this.setState({\n          searchResult: {\n            memories: memories\n          }\n        });\n      }\n    };\n\n    this.onRouteChange = route => {\n      console.log('Apps - onRouteChange : route ' + route);\n\n      if (route === 'signout') {\n        this.setState({\n          route: route,\n          isSignedIn: false\n        });\n      } else if (route === 'home') {\n        this.setState({\n          route: route,\n          isSignedIn: true\n        });\n      } else if (route === 'memoryUpdated') {\n        this.loadUser(this.state.user);\n        this.setState({\n          route: 'home',\n          isSignedIn: true\n        });\n      } else if (route === 'admin') {\n        this.setState({\n          route: 'admin',\n          isSignedIn: true\n        });\n      } else {\n        this.setState({\n          route: route\n        });\n      }\n    };\n\n    this.handleEditMemory = memory => {\n      this.state.activeMemory = memory;\n      console.log('App.displayMemory : activeMemory.id ' + memory.memid);\n      this.onRouteChange('displayMemory');\n    };\n\n    this.state = {\n      route: 'signin',\n      isSignedIn: false,\n      activeMemory: null,\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        joined: ''\n      },\n      searchResult: {\n        memories: []\n      }\n    };\n  } //---------------------------------------------------------------------------------\n\n\n  //---------------------------------------------------------------------------------\n  render() {\n    screen = this.state.route;\n    let content = null;\n\n    if (screen === 'home') {\n      content = /*#__PURE__*/React.createElement(CardCollection, {\n        memories: this.state.searchResult.memories,\n        userid: this.state.user.userid,\n        onEditMemory: this.handleEditMemory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      });\n    } else if (screen === 'signin') {\n      content = /*#__PURE__*/React.createElement(Signin, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      });\n    } else if (screen === 'admin') {\n      content = /*#__PURE__*/React.createElement(Administration, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      });\n    } else {\n      content = /*#__PURE__*/React.createElement(Register, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navigation, {\n      onRouteChange: this.onRouteChange,\n      userSignedin: this.userSignedin,\n      loadMemories: this.loadMemories,\n      currentRoute: this.state.route,\n      user: this.state.user.userid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }), content);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["/Users/bentait/Desktop/memriio/memriio_web/src/App.js"],"names":["React","memo","Navigation","CardCollection","Signin","Register","Administration","App","Component","constructor","userSignedin","state","isSignedIn","loadUser","data","user","userid","firstname","lastname","email","joined","fetch","method","headers","body","JSON","stringify","then","response","json","memories","success","loadMemories","Array","isArray","console","log","length","setState","searchResult","onRouteChange","route","handleEditMemory","memory","activeMemory","memid","id","name","render","screen","content"],"mappings":"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","sourcesContent":["import React, { memo } from 'react';\nimport Navigation from './components/navigation/navigation.js';\nimport CardCollection from './components/cardcollection/cardcollection.js';\nimport Signin from './components/signin/signin.js';\nimport Register from './components/register/register.js';\nimport Administration from './components/admin/admin.js'\nimport './App.css';\n\n\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    \n    this.state ={\n      route: 'signin',\n      isSignedIn: false,\n      activeMemory:null,\n      user:{\n        id:'',\n        name:'',\n        email:'',\n        joined:''\n      },\n      searchResult:{\n        memories:[]\n      }\n    }\n  }\n\n//---------------------------------------------------------------------------------\n\n  userSignedin = () => {\n    return this.state.isSignedIn;\n  }\n\n//---------------------------------------------------------------------------------\n\n  loadUser = (data) => {\n    \n    this.state.user.userid = data.userid\n    this.state.user.firstname = data.firstname\n    this.state.user.lastname = data.lastname\n    this.state.user.email = data.email\n    this.state.user.joined = data.joined\n          \n\n    fetch('https://memriio-api-0.herokuapp.com/get_memories_userid', {\n      method: 'post',\n      headers: {'Content-Type':'application/json'},\n      body:JSON.stringify({\n          userid:data.userid\n          })\n        })\n          .then(response => response.json())\n          .then(memories=>{\n              if(memories.success) this.loadMemories(memories.data)\n          })\n  } \n\n//---------------------------------------------------------------------------------\n\n  loadMemories =(memories) => {\n\n    if(Array.isArray(memories)){\n      console.log('App-loadMemories : memory count : ' + memories.length);\n      this.setState({searchResult:{memories : memories}})\n    }\n    \n    \n  }\n\n//---------------------------------------------------------------------------------\n\n  onRouteChange = (route) =>{\n   \n    console.log('Apps - onRouteChange : route ' + route);\n    \n    if(route === 'signout'){\n      this.setState({route:route, isSignedIn : false})\n    }else if (route === 'home'){\n      this.setState({route:route, isSignedIn: true})\n    }else if (route === 'memoryUpdated'){\n      this.loadUser(this.state.user)\n      this.setState({route:'home', isSignedIn: true})\n    }else if (route === 'admin'){\n     this.setState({route:'admin', isSignedIn: true})\n    }else{\n      this.setState({route:route})\n    }\n    \n  }\n\n//---------------------------------------------------------------------------------\n\nhandleEditMemory = (memory) => {\n  \n  \n  this.state.activeMemory = memory;\n  console.log('App.displayMemory : activeMemory.id ' + memory.memid);\n  this.onRouteChange('displayMemory')\n\n}\n\n//---------------------------------------------------------------------------------\n\nrender() {\n\n  \n    screen = this.state.route\n    let content = null\n    if(screen === 'home'){\n      content = <CardCollection \n              memories={this.state.searchResult.memories} \n              userid={this.state.user.userid} \n              onEditMemory={this.handleEditMemory}\n              />\n    }else if(screen === 'signin'){\n      content = <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n    }else if (screen === 'admin'){\n      content = <Administration/> \n    }else{\n      content = <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n    }\n    \n\n\n    return (\n      <div className=\"App\">\n        <Navigation \n          onRouteChange={this.onRouteChange} \n          userSignedin={this.userSignedin}\n          loadMemories={this.loadMemories}           \n          currentRoute={this.state.route}\n          user={this.state.user.userid}/>\n        \n        { content }\n\n      </div>\n    );\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}