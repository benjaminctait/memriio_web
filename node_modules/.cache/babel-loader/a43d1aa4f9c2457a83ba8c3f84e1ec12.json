{"ast":null,"code":"var _jsxFileName = \"/Users/muhammad/Documents/projects/upwork/ben/memriio_web/src/components/cardcollection/cardcollection.js\";\nimport React from 'react';\nimport { BaseCard, ShortCard } from './card';\nimport { BigCard } from './bigcard';\nimport MemoryModal from '../memorymodal/memorymodal';\nimport Masonry from 'react-masonry-component';\nimport * as mem from '../memriioserver';\nimport './cardcollection.css';\n\nclass CardCollection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      memories: null,\n      activeUser: null,\n      showMemoryModal: false,\n      activeMemory: null\n    };\n\n    this.componentDidUpdate = (prevProps, prevState) => {\n      if (prevProps.memories !== this.props.memories) {\n        if (this.props.memories) console.log('cardcollection : component update ' + this.props.memories.length);\n        this.setState({\n          memories: this.props.memories\n        });\n      }\n    };\n\n    this.onEditMemory = memory => {\n      this.props.onEditMemory(memory);\n    };\n\n    this.onShowModal = (memory, memfiles) => {\n      this.state.activeMemory = memory;\n      this.state.memfiles = memfiles;\n      this.setState({\n        showMemoryModal: !this.state.showMemoryModal\n      });\n    };\n\n    this.onDeleteMemory = memory => {\n      let newmem = [];\n      mem.deleteMemory(memory.memid);\n      this.state.memories.map(mem => {\n        if (mem.memid !== memory.memid) newmem.push(mem);\n      });\n      this.setState({\n        memories: newmem\n      });\n    };\n\n    this.onCardClick = memid => {\n      console.log('cardCollection.card clicked - memid : ' + memid);\n    };\n\n    this.state = {\n      memories: props.memories,\n      activeUser: props.userid,\n      layoutcount: 0\n    };\n  }\n\n  //-------------------------------------------------------------------------------\n  render() {\n    if (Array.isArray(this.state.memories)) {\n      console.log('CarCollection-render : memory count : ' + this.state.memories.length);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bigContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: 'col-right-0',\n        id: \"col1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col\",\n        id: \"col2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Masonry, {\n        ref: function (c) {\n          this.masonry = this.masonry || c.masonry;\n        }.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }\n      }, this.state.memories.map(memory => {\n        let ukey = 'memcard' + memory.memid;\n\n        if (memory.cardtype === 0) {\n          return /*#__PURE__*/React.createElement(BaseCard, {\n            key: ukey,\n            memory: memory,\n            onEdit: this.onEditMemory,\n            onShowModal: this.onShowModal,\n            onCardClick: this.onCardClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 45\n            }\n          });\n        } else if (memory.cardtype === 1) {\n          return /*#__PURE__*/React.createElement(ShortCard, {\n            key: ukey,\n            memory: memory,\n            onEdit: this.onEditMemory,\n            onShowModal: this.onShowModal,\n            onCardClick: this.onCardClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 45\n            }\n          });\n        } else if (memory.cardtype === 2) {\n          return /*#__PURE__*/React.createElement(BigCard, {\n            key: ukey,\n            memory: memory,\n            onEdit: this.onEditMemory,\n            onShowModal: this.onShowModal,\n            onCardClick: this.onCardClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 45\n            }\n          });\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-right-0\",\n        id: \"col3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(MemoryModal, {\n        key: 'memmodal' + 42,\n        activeUserid: this.state.activeUser,\n        memory: this.state.activeMemory,\n        memfiles: this.state.memfiles,\n        show: this.state.showMemoryModal,\n        onHideModal: this.onShowModal,\n        onDeleteMemory: this.onDeleteMemory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, \"No memories Found\");\n    }\n  }\n\n}\n\nexport default CardCollection;","map":{"version":3,"sources":["/Users/muhammad/Documents/projects/upwork/ben/memriio_web/src/components/cardcollection/cardcollection.js"],"names":["React","BaseCard","ShortCard","BigCard","MemoryModal","Masonry","mem","CardCollection","Component","constructor","props","state","memories","activeUser","showMemoryModal","activeMemory","componentDidUpdate","prevProps","prevState","console","log","length","setState","onEditMemory","memory","onShowModal","memfiles","onDeleteMemory","newmem","deleteMemory","memid","map","push","onCardClick","userid","layoutcount","render","Array","isArray","c","masonry","bind","ukey","cardtype"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {BaseCard,ShortCard} from './card'\nimport {BigCard} from './bigcard'\nimport MemoryModal from '../memorymodal/memorymodal'\nimport Masonry from 'react-masonry-component';\nimport * as mem from '../memriioserver'\n\nimport './cardcollection.css'\n\n\nclass CardCollection extends React.Component{\n\n    constructor(props){\n        super(props)        \n        this.state={\n            memories:props.memories,\n            activeUser:props.userid,\n            layoutcount:0\n        }\n    }\n    \n    state={\n        memories:null,\n        activeUser:null,\n        showMemoryModal:false,\n        activeMemory:null,    \n    }\n\ncomponentDidUpdate = (prevProps,prevState) =>{\n    if( prevProps.memories !== this.props.memories){\n        if(this.props.memories) console.log('cardcollection : component update ' + this.props.memories.length);\n        this.setState({memories:this.props.memories})\n    }\n}\n\n//-------------------------------------------------------------------------------\n\nonEditMemory = (memory) => {\n    this.props.onEditMemory(memory)    \n}\n\n//-------------------------------------------------------------------------------\n\nonShowModal = (memory,memfiles) => {\n        this.state.activeMemory = memory\n        this.state.memfiles = memfiles\n        this.setState({showMemoryModal:!this.state.showMemoryModal})\n        \n    }\n//-------------------------------------------------------------------------------\n\nonDeleteMemory = (memory) =>{\n    let newmem = []\n    mem.deleteMemory(memory.memid)\n    this.state.memories.map( mem => {\n        if(mem.memid !== memory.memid) newmem.push(mem)\n    })\n    this.setState( { memories : newmem } )\n\n}\n\n//-------------------------------------------------------------------------------\n\nonCardClick = (memid) =>{\n\nconsole.log('cardCollection.card clicked - memid : ' + memid);\n\n}\n\n//-------------------------------------------------------------------------------\n\n    \n    render(){\n        if(Array.isArray(this.state.memories)){\n            console.log('CarCollection-render : memory count : ' + this.state.memories.length);\n            \n            return (\n            <div className='bigContainer'>\n                <div id=\"container\" >\n                    <div class={'col-right-0'} id=\"col1\"></div>\n                        <div class=\"col\" id=\"col2\">\n                        \n                            <Masonry                                \n                                ref={function(c) {this.masonry = this.masonry || c.masonry;}.bind(this)} \n                                >                          \n                                {  this.state.memories.map(memory => {\n                                    let ukey = 'memcard' + memory.memid                                    \n                                    if(memory.cardtype === 0){\n                                        return (\n                                            <BaseCard\n                                                key={ukey} \n                                                memory={memory}\n                                                onEdit = {this.onEditMemory}\n                                                onShowModal = {this.onShowModal}\n                                                onCardClick = {this.onCardClick}\n                                                />)\n                                    }else if (memory.cardtype === 1){\n                                        return (\n                                            <ShortCard\n                                                key={ukey} \n                                                memory={memory}\n                                                onEdit = {this.onEditMemory}\n                                                onShowModal = {this.onShowModal}\n                                                onCardClick = {this.onCardClick}\n                                            />)\n                                    }else if (memory.cardtype === 2){\n                                        return (\n                                            <BigCard\n                                                key={ukey} \n                                                memory={memory}\n                                                onEdit = {this.onEditMemory}\n                                                onShowModal = {this.onShowModal}\n                                                onCardClick = {this.onCardClick}\n                                            />)\n                                    }  \n                                    })                                   \n                                }                             \n                            </Masonry>       \n                               \n                    </div>\n                    <div class='col-right-0' id=\"col3\"></div>\n                </div>\n                <MemoryModal \n                    key             = { 'memmodal' + 42             }\n                    activeUserid    = { this.state.activeUser       }\n                    memory          = { this.state.activeMemory     }\n                    memfiles        = { this.state.memfiles         }\n                    show            = { this.state.showMemoryModal  }\n                    onHideModal     = { this.onShowModal            }\n                    onDeleteMemory  = { this.onDeleteMemory         }     \n                > \n                </MemoryModal>           \n            </div>        \n                    \n                \n            )\n        }else{\n            return (\n                <div> \n                    No memories Found\n                </div>\n            )\n        }   \n    }\n\n\n}\n\n\nexport default CardCollection; \n\n  \n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}