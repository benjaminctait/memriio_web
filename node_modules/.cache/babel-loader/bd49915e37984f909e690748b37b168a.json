{"ast":null,"code":"var _jsxFileName = \"/Users/bentait/Desktop/memriio/memriio_web/src/components/cardcollection/cardcollection.js\";\nimport React from 'react';\nimport { BaseCard, ShortCard } from './card';\nimport MemoryModal from '../memorymodal/memorymodal';\nimport Masonry from 'react-masonry-component';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport './cardcollection.css';\nimport { InputGroup } from 'react-bootstrap';\n\nclass CardCollection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      memories: null,\n      activeUser: null,\n      showMemoryModal: false,\n      activeMemory: null,\n      layoutcount: 0\n    };\n\n    this.onExpandMemory = memoryId => {\n      console.log('CardCollection->onExpandMemory memory id : ' + memoryId);\n      this.masonry.layout();\n    };\n\n    this.onShowModal = (memory, memfiles) => {\n      this.state.activeMemory = memory;\n      this.state.memfiles = memfiles;\n      this.setState({\n        showMemoryModal: !this.state.showMemoryModal\n      });\n\n      if (memory) {\n        console.log('blah blah :' + this.state.activeMemory.title);\n      }\n    };\n\n    this.handleLayoutComplete = () => {\n      this.state.layoutcount++;\n      console.log('layout complete : layout done' + this.state.layoutcount);\n      if (this.state.layoutcount === 5) this.masonry.layout();\n    };\n\n    this.handleImagesLoaded = () => {\n      console.log('images loaded');\n    };\n\n    console.log('CardCollection constructor : mem count : ' + props.memories.length);\n    this.state = {\n      memories: props.memories,\n      activeUser: props.userid,\n      layoutcount: 0\n    };\n  }\n\n  //-------------------------------------------------------------------------------\n  render() {\n    if (Array.isArray(this.props.memories)) {\n      console.log('CarCollection-render : memory count : ' + this.props.memories.length);\n      const masonryOptions = {\n        transitionDuration: 0\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-left\",\n        id: \"col1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col\",\n        id: \"col2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Masonry, {\n        options: masonryOptions,\n        ref: function (c) {\n          this.masonry = this.masonry || c.masonry;\n        }.bind(this),\n        onLayoutComplete: laidOutItems => this.handleLayoutComplete(laidOutItems),\n        onImagesLoaded: this.handleImagesLoaded,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }\n      }, this.props.memories.map((memory, i) => {\n        let ukey = 'memcard' + i;\n\n        if (memory.cardtype == 0) {\n          return /*#__PURE__*/React.createElement(BaseCard, {\n            key: ukey,\n            memory: memory,\n            onEdit: this.props.onEditMemory,\n            onExpand: this.onExpandMemory,\n            onShowModal: this.onShowModal,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 49\n            }\n          });\n        } else if (memory.cardtype == 1) {\n          return /*#__PURE__*/React.createElement(ShortCard, {\n            key: ukey,\n            memory: memory,\n            onEditClick: this.props.onEditMemory,\n            onShowModal: this.onShowModal,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 49\n            }\n          });\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-right\",\n        id: \"col3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(MemoryModal, {\n        key: 'memmodal' + 42,\n        memory: this.state.activeMemory,\n        memfiles: this.state.memfiles,\n        show: this.state.showMemoryModal,\n        onHideModal: this.onShowModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, \"No memories Found\");\n    }\n  }\n\n}\n\nexport default CardCollection;","map":{"version":3,"sources":["/Users/bentait/Desktop/memriio/memriio_web/src/components/cardcollection/cardcollection.js"],"names":["React","BaseCard","ShortCard","MemoryModal","Masonry","InfiniteScroll","InputGroup","CardCollection","Component","constructor","props","state","memories","activeUser","showMemoryModal","activeMemory","layoutcount","onExpandMemory","memoryId","console","log","masonry","layout","onShowModal","memory","memfiles","setState","title","handleLayoutComplete","handleImagesLoaded","length","userid","render","Array","isArray","masonryOptions","transitionDuration","c","bind","laidOutItems","map","i","ukey","cardtype","onEditMemory"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAiC,QAAjC;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AAEA,OAAO,sBAAP;AACA,SAASC,UAAT,QAA2B,iBAA3B;;AAIA,MAAMC,cAAN,SAA6BP,KAAK,CAACQ,SAAnC,CAA4C;AAExCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AADc,SAWlBC,KAXkB,GAWZ;AACFC,MAAAA,QAAQ,EAAC,IADP;AAEFC,MAAAA,UAAU,EAAC,IAFT;AAGFC,MAAAA,eAAe,EAAC,KAHd;AAIFC,MAAAA,YAAY,EAAC,IAJX;AAKFC,MAAAA,WAAW,EAAC;AALV,KAXY;;AAAA,SAmBlBC,cAnBkB,GAmBAC,QAAD,IAAc;AAE3BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gDAAgDF,QAA5D;AACA,WAAKG,OAAL,CAAaC,MAAb;AACH,KAvBiB;;AAAA,SA2BtBC,WA3BsB,GA2BR,CAACC,MAAD,EAAQC,QAAR,KAAqB;AAE3B,WAAKd,KAAL,CAAWI,YAAX,GAA0BS,MAA1B;AACA,WAAKb,KAAL,CAAWc,QAAX,GAAsBA,QAAtB;AACA,WAAKC,QAAL,CAAc;AAACZ,QAAAA,eAAe,EAAC,CAAC,KAAKH,KAAL,CAAWG;AAA7B,OAAd;;AACA,UAAGU,MAAH,EAAU;AACNL,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgB,KAAKT,KAAL,CAAWI,YAAX,CAAwBY,KAApD;AACH;AAEJ,KApCiB;;AAAA,SAsCtBC,oBAtCsB,GAsCC,MAAM;AACzB,WAAKjB,KAAL,CAAWK,WAAX;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAkC,KAAKT,KAAL,CAAWK,WAAzD;AACA,UAAG,KAAKL,KAAL,CAAWK,WAAX,KAA2B,CAA9B,EAAiC,KAAKK,OAAL,CAAaC,MAAb;AAEpC,KA3CqB;;AAAA,SA4CtBO,kBA5CsB,GA4CD,MAAM;AACvBV,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEH,KA/CqB;;AAEdD,IAAAA,OAAO,CAACC,GAAR,CAAY,8CAA8CV,KAAK,CAACE,QAAN,CAAekB,MAAzE;AAEA,SAAKnB,KAAL,GAAW;AACPC,MAAAA,QAAQ,EAACF,KAAK,CAACE,QADR;AAEPC,MAAAA,UAAU,EAACH,KAAK,CAACqB,MAFV;AAGPf,MAAAA,WAAW,EAAC;AAHL,KAAX;AAKH;;AAuCL;AAEIgB,EAAAA,MAAM,GAAE;AACJ,QAAGC,KAAK,CAACC,OAAN,CAAc,KAAKxB,KAAL,CAAWE,QAAzB,CAAH,EAAsC;AAClCO,MAAAA,OAAO,CAACC,GAAR,CAAY,2CAA2C,KAAKV,KAAL,CAAWE,QAAX,CAAoBkB,MAA3E;AACA,YAAMK,cAAc,GAAG;AACnBC,QAAAA,kBAAkB,EAAE;AADD,OAAvB;AAGA,0BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,UAAX;AAAsB,QAAA,EAAE,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAK,QAAA,KAAK,EAAC,KAAX;AAAiB,QAAA,EAAE,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,OAAD;AACI,QAAA,OAAO,EAAED,cADb;AAEI,QAAA,GAAG,EAAE,UAASE,CAAT,EAAY;AAAC,eAAKhB,OAAL,GAAe,KAAKA,OAAL,IAAgBgB,CAAC,CAAChB,OAAjC;AAA0C,SAAvD,CAAwDiB,IAAxD,CAA6D,IAA7D,CAFT;AAGI,QAAA,gBAAgB,EAAEC,YAAY,IAAI,KAAKX,oBAAL,CAA0BW,YAA1B,CAHtC;AAII,QAAA,cAAc,EAAE,KAAKV,kBAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOQ,KAAKnB,KAAL,CAAWE,QAAX,CAAoB4B,GAApB,CAAwB,CAAChB,MAAD,EAAQiB,CAAR,KAAc;AAClC,YAAIC,IAAI,GAAG,YAAYD,CAAvB;;AACA,YAAGjB,MAAM,CAACmB,QAAP,IAAmB,CAAtB,EAAwB;AACpB,8BACI,oBAAC,QAAD;AACI,YAAA,GAAG,EAAED,IADT;AAEI,YAAA,MAAM,EAAElB,MAFZ;AAGI,YAAA,MAAM,EAAI,KAAKd,KAAL,CAAWkC,YAHzB;AAII,YAAA,QAAQ,EAAI,KAAK3B,cAJrB;AAKI,YAAA,WAAW,EAAI,KAAKM,WALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAQH,SATD,MASM,IAAIC,MAAM,CAACmB,QAAP,IAAmB,CAAvB,EAAyB;AAC3B,8BACI,oBAAC,SAAD;AACI,YAAA,GAAG,EAAED,IADT;AAEI,YAAA,MAAM,EAAElB,MAFZ;AAGI,YAAA,WAAW,EAAI,KAAKd,KAAL,CAAWkC,YAH9B;AAII,YAAA,WAAW,EAAI,KAAKrB,WAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH;AACJ,OApBD,CAPR,CADJ,CADJ,CAFJ,eAoCI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAuB,QAAA,EAAE,EAAC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApCJ,CADJ,eAuCI,oBAAC,WAAD;AACI,QAAA,GAAG,EAAa,aAAa,EADjC;AAEI,QAAA,MAAM,EAAU,KAAKZ,KAAL,CAAWI,YAF/B;AAGI,QAAA,QAAQ,EAAQ,KAAKJ,KAAL,CAAWc,QAH/B;AAII,QAAA,IAAI,EAAY,KAAKd,KAAL,CAAWG,eAJ/B;AAKI,QAAA,WAAW,EAAK,KAAKS,WALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvCJ,CADA;AAmDH,KAxDD,MAwDK;AACD,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ;AAKH;AACJ;;AApHuC;;AA0H5C,eAAehB,cAAf","sourcesContent":["import React from 'react';\nimport {BaseCard,ShortCard} from './card'\nimport MemoryModal from '../memorymodal/memorymodal'\nimport Masonry from 'react-masonry-component';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport './cardcollection.css'\nimport { InputGroup } from 'react-bootstrap';\n\n\n\nclass CardCollection extends React.Component{\n\n    constructor(props){\n        super(props)\n        console.log('CardCollection constructor : mem count : ' + props.memories.length);\n        \n        this.state={\n            memories:props.memories,\n            activeUser:props.userid,\n            layoutcount:0\n        }\n    }\n    \n    state={\n        memories:null,\n        activeUser:null,\n        showMemoryModal:false,\n        activeMemory:null,\n        layoutcount:0\n    }\n//-------------------------------------------------------------------------------\n    onExpandMemory = (memoryId) => {\n        \n        console.log('CardCollection->onExpandMemory memory id : ' + memoryId)\n        this.masonry.layout()\n    }\n\n//-------------------------------------------------------------------------------\n\nonShowModal = (memory,memfiles) => {\n        \n        this.state.activeMemory = memory\n        this.state.memfiles = memfiles\n        this.setState({showMemoryModal:!this.state.showMemoryModal})\n        if(memory){\n            console.log('blah blah :' + this.state.activeMemory.title);\n        }     \n        \n    }\n\nhandleLayoutComplete = () => {\n    this.state.layoutcount++\n    console.log('layout complete : layout done' + this.state.layoutcount);\n    if(this.state.layoutcount === 5) this.masonry.layout()\n    \n}\nhandleImagesLoaded = () => {\n    console.log('images loaded');\n  \n}\n//-------------------------------------------------------------------------------\n    \n    render(){\n        if(Array.isArray(this.props.memories)){\n            console.log('CarCollection-render : memory count : ' + this.props.memories.length);\n            const masonryOptions = {\n                transitionDuration: 0\n            };\n            return (\n            <div>\n                <div id=\"container\">\n                    <div class=\"col-left\" id=\"col1\"></div>\n                    <div class=\"col\" id=\"col2\">\n                        <InfiniteScroll>\n                            <Masonry\n                                options={masonryOptions}\n                                ref={function(c) {this.masonry = this.masonry || c.masonry;}.bind(this)}\n                                onLayoutComplete={laidOutItems => this.handleLayoutComplete(laidOutItems)}\n                                onImagesLoaded={this.handleImagesLoaded}\n                            >\n                                { \n                                    this.props.memories.map((memory,i) => {\n                                        let ukey = 'memcard' + i                                    \n                                        if(memory.cardtype == 0){\n                                            return (\n                                                <BaseCard\n                                                    key={ukey} \n                                                    memory={memory}\n                                                    onEdit = {this.props.onEditMemory }\n                                                    onExpand = {this.onExpandMemory}\n                                                    onShowModal = {this.onShowModal}\n                                                    />)\n                                        }else if (memory.cardtype == 1){\n                                            return (\n                                                <ShortCard\n                                                    key={ukey} \n                                                    memory={memory}\n                                                    onEditClick = {this.props.onEditMemory }\n                                                    onShowModal = {this.onShowModal}\n                                                />)\n                                        }                                    \n                                    })\n                                }\n                            </Masonry>       \n                        </InfiniteScroll>             \n                    </div>\n                    <div class=\"col-right\" id=\"col3\"></div>\n                </div>\n                <MemoryModal \n                    key         = { 'memmodal' + 42}\n                    memory      = { this.state.activeMemory}\n                    memfiles    = { this.state.memfiles}\n                    show        = { this.state.showMemoryModal}\n                    onHideModal = { this.onShowModal}>\n                </MemoryModal>           \n            </div>        \n                    \n                \n            )\n        }else{\n            return (\n                <div> \n                    No memories Found\n                </div>\n            )\n        }   \n    }\n\n\n}\n\n\nexport default CardCollection; \n\n  \n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}